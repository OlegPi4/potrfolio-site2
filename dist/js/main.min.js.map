{"version":3,"sources":["main.js"],"names":["window","addEventListener","adaptStoryFrame","elemPlay","document","querySelector","videoPlay","elemButton","docWidth","documentElement","clientWidth","videoFrame","widthFrameStr","heightFrameStr","widthFrame","heightFrame","Math","round","dataset","video","style","cssText","concat","innerHTML","endVideo","getElementsByTagName","remove"],"mappings":"aAGAA,OAAAC,iBAAA,mBAAA,WACAD,oBACGE,GAEHF,OAAAC,iBAAA,SAAA,WACAD,oBACGE,GAKH,IAAIC,SAAWC,SAASC,cAAc,aAEtCF,SAASF,iBAAiB,QAASK,WAEnC,IAAIC,WAAaH,SAASC,cAAc,aAMxC,SAASH,kBACN,IAAMM,EAAWJ,SAASK,gBAAgBC,YACpCC,EAAaP,SAASC,cAAc,gBACtCO,EAAgB,QACjBC,EAAiB,QACjBC,EAAa,IACbC,EAAc,IACD,KAAXP,GAAmBA,GAAY,MAGjCI,GAFAE,EAAaE,KAAKC,MAAMT,EAAS,QAEJ,KAC7BK,GAFAE,EAAcC,KAAKC,MAAMT,EAAS,OAEH,MACtBA,GAAY,OAGrBI,GAFAE,EAAaE,KAAKC,OAAOT,EAAa,IAAI,MAEb,KAC7BK,GAFAE,EAAcC,KAAKC,OAAOT,EAAa,IAAI,IAAM,OAElB,MAGD,GAA7BG,EAAWO,QAAQC,OACpBR,EAAWS,MAAMC,SAAO,qBAAAC,OAMbC,EAAS,wBAAAD,OAGVT,EAAA,qGAQhBF,EAAAY,UAAA,uDAAAD,OAVmDR,EAAU,cAAAQ,OAAaP,EAAW,mEAarFS,YAEGb,EAAWO,MAAQC,SAAS,oBAAAG,OACbV,EAAE,uBAAAU,OACpBT,EAAA,cAJA,SAWSZ,YACWG,SAAAC,cAAA,gBACJa,QAACK,MAAS,EAVvBrB,kBAIH,SAASsB,WACN,IAAIL,EAAQf,SAASqB,qBAAqB,SACpCd,EAAaP,SAASC,cAAc,iBAC1Cc,EAAQA,EAAM,IACRlB,iBAAiB,QAAS,WAC7BkB,EAAMO,SACNf,EAAWY,UAAS,sMAOpBZ,EAAWS,MAAMC,SAAO,oFAG3BV,EAAWO,QAAQC,MAAQ,IACxB,GArENZ,WAAWN,iBAAiB,QAASK","file":"main.min.js","sourcesContent":["\r\n/*---------События------------*/\r\n\r\n/*Загрузка документа адаптация блока Story*/\r\nwindow.addEventListener('DOMContentLoaded', () => {\r\n   adaptStoryFrame();\r\n}, false)\r\n/*Изменение размера окна адаптация блока Story*/\r\nwindow.addEventListener('resize', () => {\r\n   adaptStoryFrame();\r\n}, false)\r\n\r\n/*Запуск видеофрагмента блока Story при нажатии на кнопку \"play\"*/\r\n\r\nlet elemPlay = document.querySelector('.video__a')\r\n\r\nelemPlay.addEventListener('click', videoPlay)\r\n/*Запуск видеофрагмента блока Story при нажатии на кнопку \"lets get started\"*/\r\nlet elemButton = document.querySelector('.story__a')\r\nelemButton.addEventListener('click', videoPlay)   \r\n\r\n/*-----------Функции-------------*/\r\n\r\n/*Адаптация блока Story - видеофрагмента на изменение размера окна*/\r\nfunction adaptStoryFrame() {\r\n   const docWidth = document.documentElement.clientWidth\r\n   const videoFrame = document.querySelector('.video-place');\r\n   let widthFrameStr = '896px',\r\n      heightFrameStr = '516px',\r\n      widthFrame = 896,\r\n      heightFrame = 516\r\n   if ((docWidth > 1031)&&(docWidth <= 1500)) {\r\n      widthFrame = Math.round(docWidth/1.719);\r\n      heightFrame = Math.round(docWidth/2.98);\r\n      widthFrameStr = widthFrame + 'px';\r\n      heightFrameStr = heightFrame + 'px';\r\n   }  else if (docWidth <= 1031) {\r\n      widthFrame = Math.round((docWidth - 30) / 1.1);\r\n      heightFrame = Math.round((docWidth - 30) / 1.1 / 1.78);\r\n      widthFrameStr = widthFrame + 'px';\r\n      heightFrameStr = heightFrame + 'px';\r\n   }\r\n   /* Условие для адаптации при воспроизвелении видео и без.*/   \r\n   if (videoFrame.dataset.video == 1) { \r\n      videoFrame.style.cssText += `\r\n         width: ${widthFrameStr};\r\n         height: ${heightFrameStr};\r\n         background: url('');   \r\n         background-color: var(--background1);      \r\n      `;   \r\n      videoFrame.innerHTML = `\r\n      <video id=\"video\" autoplay controls width='${widthFrame}' height='${heightFrame}' src=\"../dist/video/HistoricalDrawings.mp4\"></video>;\r\n      `;\r\n      endVideo();\r\n   } else {\r\n      videoFrame.style.cssText += `\r\n        width: ${widthFrameStr};\r\n        height: ${heightFrameStr};\r\n       `;   \r\n   }\r\n\r\n}\r\n   \r\n /*Запуск видеофрагмента блока Story*/\r\nfunction videoPlay () {\r\n   const videoFrame = document.querySelector('.video-place');\r\n   videoFrame.dataset.video = 1\r\n   adaptStoryFrame();\r\n}\r\n\r\n/*Завершение видео, востановление исходного вида */\r\nfunction endVideo() { \r\n   let video = document.getElementsByTagName('video');\r\n   const videoFrame = document.querySelector('.video-place');\r\n   video = video[0];\r\n   video.addEventListener('ended', function() {\r\n      video.remove();\r\n      videoFrame.innerHTML = `\r\n         <div class=\"video__a\" name=\"a-play\">\r\n            <a href=\"#!\" class=\"video__a__play\">\r\n               <i class=\"icon-play-circled2\"></i>\r\n            </a>    \r\n         </div>\r\n      `;\r\n      videoFrame.style.cssText += `\r\n         background: url('../img/story-img.png') 50%/cover no-repeat;\r\n        `; \r\n   videoFrame.dataset.video = 0\r\n   }, false)\r\n}\r\n\r\n "]}